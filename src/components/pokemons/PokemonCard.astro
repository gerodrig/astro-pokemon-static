---
//Receive name, url
type Props = {
  name: string;
  url: string;
  isBig?: boolean;
};

const { name, url, isBig = false } = Astro.props;
const pokemonId = url.split('/').at(-2);
const imageSrc = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${pokemonId}.png`;
// const imageSrc = 'https://placehold.co/400x400/png'
---

<a href={`/pokemons/${name}`}>
  <div class="p-1 flex flex-wrap items-center justify-center">
    <div
      class="flex-shrink-0 m-6 relative overflow-hidden bg-red-400 rounded-lg max-w-xs shadow-lg"
    >
      <svg
        class="absolute bottom-0 left-0 mb-8"
        viewBox="0 0 375 283"
        fill="none"
        style="transform: scale(1.5); opacity: 0.1;"
      >
        <rect
          x="159.52"
          y="175"
          width="152"
          height="152"
          rx="8"
          transform="rotate(-45 159.52 175)"
          fill="white"></rect>
        <rect
          y="107.48"
          width="152"
          height="152"
          rx="8"
          transform="rotate(-45 0 107.48)"
          fill="white"></rect>
      </svg>
      <div class="relative pt-10 px-10 flex items-center justify-center w-">
        <div
          class="block absolute w-48 h-48 bottom-0 left-0 -mb-24 ml-3"
          style="background: radial-gradient(black, transparent 60%); transform: rotate3d(0, 0, 1, 20deg) scale3d(1, 0.6, 1); opacity: 0.2;"
        >
        </div>
        <img
        transition:name={`${name}-image`}
          class:list={[
            'relative',
            {
              'w-40': !isBig,
              'w-80': isBig,
            },
          ]}
          src={imageSrc}
          alt=`${name}`
        />
      </div>

      <div class="relative text-white px-6 pb-6 mt-6">
        <div class="flex justify-between">
          {
            !isBig && (
              <span class="block font-semibold text-xl capitalize">
                #{pokemonId} {name}
              </span>
            )
          }
        </div>
      </div>
    </div>
  </div>
</a>
